{"ast":null,"code":"import axios from 'axios';\n\n// postse\nexport const GET_POSTS = 'GET_POSTS';\nexport const ADD_POST = 'ADD_POST';\nexport const LIKE_POST = 'LIKE_POST';\nexport const UNLIKE_POST = 'UNLIKE_POST';\nexport const UPDATE_POST = 'UPDATE_POST';\nexport const DELETE_POST = 'DELETE_POST';\n\n//comment\nexport const ADD_COMMENT = 'ADD_COMMENT';\nexport const EDIT_COMMENT = 'EDIT_COMMENT';\nexport const DELETE_COMMENT = 'DELETE_COMMENT';\nexport const getPosts = num => {\n  return dispatch => {\n    return axios.get(`${process.env.REACT_APP_API_URL}api/post`).then(res => {\n      const array = res.data.slice(0, num);\n      dispatch({\n        type: GET_POSTS,\n        payload: array\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const addPost = data => {\n  return dispatch => {\n    return axios.post(`${process.env.REACT_APP_API_URL}api/post`, data).then(res => {\n      if (res.data.errors) {\n        dispatch({\n          type: GET_POST_ERROS\n        });\n      }\n    });\n  };\n};\nexport const likePost = (postId, userId) => {\n  return dispatch => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/like-post/` + postId,\n      data: {\n        id: userId\n      }\n    }).then(res => {\n      dispatch({\n        type: LIKE_POST,\n        payload: {\n          postId,\n          userId\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const unlikePost = (postId, userId) => {\n  return dispatch => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/unlike-post/` + postId,\n      data: {\n        id: userId\n      }\n    }).then(res => {\n      dispatch({\n        type: UNLIKE_POST,\n        payload: {\n          postId,\n          userId\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const updatePost = (postId, message) => {\n  return dispatch => {\n    return axios({\n      method: 'put',\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n      data: {\n        message\n      }\n    }).then(res => {\n      dispatch({\n        type: UPDATE_POST,\n        payload: {\n          message,\n          postId\n        }\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n};\nexport const deletePost = postId => {\n  return dispatch => {\n    return axios({\n      method: 'delete',\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`\n    }).then(res => {\n      dispatch({\n        type: DELETE_POST,\n        payload: {\n          postId\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\n  return dispatch => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/comment-post/${postId}`,\n      data: {\n        commenterId,\n        text,\n        commenterPseudo\n      }\n    }).then(res => {\n      dispatch({\n        type: ADD_COMMENT,\n        payload: {\n          postId\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const editComment = (postId, commentId, text) => {\n  return dispatch => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/edit-comment-post/${postId}`,\n      data: {\n        commentId,\n        text\n      }\n    }).then(res => {\n      dispatch({\n        type: EDIT_COMMENT,\n        payload: {\n          postId,\n          commentId,\n          text\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n};\nexport const deleteComment = (postId, commentId) => {\n  return dispatch => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/delete-comment-post/${postId}`,\n      data: {\n        commentId\n      }\n    }).then(res => {\n      dispatch({\n        type: DELETE_COMMENT,\n        payload: {\n          postId,\n          commentId\n        }\n      });\n    }).catch(err => console.log(err));\n  };\n};","map":{"version":3,"names":["axios","GET_POSTS","ADD_POST","LIKE_POST","UNLIKE_POST","UPDATE_POST","DELETE_POST","ADD_COMMENT","EDIT_COMMENT","DELETE_COMMENT","getPosts","num","dispatch","get","process","env","REACT_APP_API_URL","then","res","array","data","slice","type","payload","catch","err","console","log","addPost","post","errors","GET_POST_ERROS","likePost","postId","userId","method","url","id","unlikePost","updatePost","message","deletePost","addComment","commenterId","text","commenterPseudo","editComment","commentId","deleteComment"],"sources":["/Users/mohamedoubenali/Desktop/Projet_Reseau_Social_MERN/frontend/src/actions/post.actions.js"],"sourcesContent":["import axios from 'axios'\n\n// postse\nexport const GET_POSTS = 'GET_POSTS'\nexport const ADD_POST = 'ADD_POST'\nexport const LIKE_POST = 'LIKE_POST'\nexport const UNLIKE_POST = 'UNLIKE_POST'\nexport const UPDATE_POST = 'UPDATE_POST'\nexport const DELETE_POST = 'DELETE_POST'\n\n//comment\nexport const ADD_COMMENT = 'ADD_COMMENT'\nexport const EDIT_COMMENT = 'EDIT_COMMENT'\nexport const DELETE_COMMENT = 'DELETE_COMMENT'\n\nexport const getPosts = (num) => {\n  return (dispatch) => {\n    return axios\n      .get(`${process.env.REACT_APP_API_URL}api/post`)\n      .then((res) => {\n        const array = res.data.slice(0, num)\n        dispatch({\n          type: GET_POSTS,\n          payload: array,\n        })\n      })\n      .catch((err) => console.log(err))\n  }\n}\n\nexport const addPost = (data) => {\n  return (dispatch) => {\n    return axios.post(`${process.env.REACT_APP_API_URL}api/post`, data)\n    .then((res) => {\n      if(res.data.errors) {\n        dispatch({\n          type: GET_POST_ERROS\n        })\n      }\n    })\n  }\n}\n\nexport const likePost = (postId, userId) => {\n  return (dispatch) => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/like-post/` + postId,\n      data: { id: userId },\n    })\n      .then((res) => {\n        dispatch({ type: LIKE_POST, payload: { postId, userId } })\n      })\n      .catch((err) => console.log(err))\n  }\n}\n\nexport const unlikePost = (postId, userId) => {\n  return (dispatch) => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/unlike-post/` + postId,\n      data: { id: userId },\n    })\n      .then((res) => {\n        dispatch({ type: UNLIKE_POST, payload: { postId, userId } })\n      })\n      .catch((err) => console.log(err))\n  }\n}\n\nexport const updatePost = (postId, message) => {\n  return (dispatch) => {\n    return axios({\n      method: 'put',\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n      data: { message },\n    })\n      .then((res) => {\n        dispatch({ type: UPDATE_POST, payload: { message, postId } })\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n}\nexport const deletePost = (postId) => {\n  return (dispatch) => {\n    return axios({\n      method: 'delete',\n      url: `${process.env.REACT_APP_API_URL}api/post/${postId}`,\n    })\n      .then((res) => {\n        dispatch({ type: DELETE_POST, payload: { postId } })\n      })\n      .catch((err) => console.log(err))\n  }\n}\n\nexport const addComment = (postId, commenterId, text, commenterPseudo) => {\n  return (dispatch) => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/comment-post/${postId}`,\n      data: { commenterId, text, commenterPseudo },\n    })\n      .then((res) => {\n        dispatch({ type: ADD_COMMENT, payload: { postId } })\n      })\n      .catch((err) => console.log(err))\n  }\n}\nexport const editComment = (postId, commentId, text) => {\n  return (dispatch) => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/edit-comment-post/${postId}`,\n      data: { commentId, text },\n    })\n      .then((res) => {\n        dispatch({ type: EDIT_COMMENT, payload: { postId, commentId, text } })\n      })\n      .catch((err) => console.log(err))\n  }\n}\n\nexport const deleteComment = (postId, commentId) => {\n  return (dispatch) => {\n    return axios({\n      method: 'patch',\n      url: `${process.env.REACT_APP_API_URL}api/post/delete-comment-post/${postId}`,\n      data: { commentId },\n    })\n      .then((res) => {\n        dispatch({ type: DELETE_COMMENT, payload: { postId, commentId } })\n      })\n      .catch((err) => console.log(err))\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}